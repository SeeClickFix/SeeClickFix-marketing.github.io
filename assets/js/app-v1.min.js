function FastClick(e){"use strict";var t,n=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.touchStartX=0;this.touchStartY=0;this.lastTouchIdentifier=0;this.touchBoundary=10;this.layer=e;if(!e||!e.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){return FastClick.prototype.onClick.apply(n,arguments)};this.onMouse=function(){return FastClick.prototype.onMouse.apply(n,arguments)};this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(n,arguments)};this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(n,arguments)};this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(n,arguments)};this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(n,arguments)};if(FastClick.notNeeded(e)){return}if(this.deviceIsAndroid){e.addEventListener("mouseover",this.onMouse,true);e.addEventListener("mousedown",this.onMouse,true);e.addEventListener("mouseup",this.onMouse,true)}e.addEventListener("click",this.onClick,true);e.addEventListener("touchstart",this.onTouchStart,false);e.addEventListener("touchmove",this.onTouchMove,false);e.addEventListener("touchend",this.onTouchEnd,false);e.addEventListener("touchcancel",this.onTouchCancel,false);if(!Event.prototype.stopImmediatePropagation){e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;if(t==="click"){i.call(e,t,n.hijacked||n,r)}else{i.call(e,t,n,r)}};e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;if(t==="click"){i.call(e,t,n.hijacked||(n.hijacked=function(e){if(!e.propagationStopped){n(e)}}),r)}else{i.call(e,t,n,r)}}}if(typeof e.onclick==="function"){t=e.onclick;e.addEventListener("click",function(e){t(e)},false);e.onclick=null}}(function(e,t,n){function l(e,t){return this instanceof l?this.init(e,t):new l(e,t)}function h(e,t){return e.changedTouches?e.changedTouches[0][t]:e[t]}function p(e){return g(e,function(e){return r.style[e]!==n})}function d(e,t,r){var o=s[t];if(o){e[o]=r}else if(e[t]!==n){s[t]=t;e[t]=r}else{g(i,function(i){var o=m(i)+m(t);if(e[o]!==n){s[t]=o;e[o]=r;return true}})}}function v(e){if(r.style[e]!==n){return e}else{var t;g(i,function(i){var s=m(i)+m(e);if(r.style[s]!==n){t="-"+i+"-"+e;return true}});return t}}function m(e){return e.charAt(0).toUpperCase()+e.substr(1)}function g(e,t){for(var n=0,r=e.length;n<r;n++){if(t(e[n],n)){return true}}return false}var r=t.createElement("div");var i=["webkit","moz","o","ms"];var s={};var o=l.support={};var u=false;o.transform3d=p(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);o.transform=p(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]);o.transition=p(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]);o.addEventListener="addEventListener"in e;o.mspointer=e.navigator.msPointerEnabled;o.cssAnimation=(o.transform3d||o.transform)&&o.transition;var a=["touch","mouse"];var f={start:{touch:"touchstart",mouse:"mousedown"},move:{touch:"touchmove",mouse:"mousemove"},end:{touch:"touchend",mouse:"mouseup"}};if(o.addEventListener){t.addEventListener("gesturestart",function(){u=true});t.addEventListener("gestureend",function(){u=false})}l.prototype.init=function(r,i){var s=this;s.element=r;if(typeof r==="string"){s.element=t.querySelector(r)}if(!s.element){throw new Error("element not found")}if(o.mspointer){s.element.style.msTouchAction="pan-y"}i=i||{};s.distance=i.distance;s.maxPoint=i.maxPoint;s.disableTouch=i.disableTouch===n?false:i.disableTouch;s.disable3d=i.disable3d===n?false:i.disable3d;s.transitionDuration=i.transitionDuration===n?"350ms":i.transitionDuration+"ms";s.currentPoint=0;s.currentX=0;s.animation=false;s.use3d=o.transform3d;if(s.disable3d===true){s.use3d=false}if(o.cssAnimation){s._setStyle({transitionProperty:v("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:s._getTranslate(0)})}else{s._setStyle({position:"relative",left:"0px"})}s.refresh();a.forEach(function(e){s.element.addEventListener(f.start[e],s,false)});e.onresize=function(){s._setStyle({transition:"none"});s.refresh()};return s};l.prototype.handleEvent=function(e){var t=this;switch(e.type){case f.start.touch:case f.start.mouse:t._touchStart(e);break;case f.move.touch:case f.move.mouse:t._touchMove(e);break;case f.end.touch:case f.end.mouse:t._touchEnd(e);break;case"click":t._click(e);break}};var c;l.prototype.refresh=function(){var e=this;e._maxPoint=e.maxPoint===n?function(){var t=e.element.childNodes,n=-1,r=0,i=t.length,s;for(;r<i;r++){s=t[r];if(s.nodeType===1){n++}}return n}():e.maxPoint;if(e.distance===n){if(e._maxPoint<0){e._distance=0}else{e._distance=e.element.scrollWidth/(e._maxPoint+1)}}else{e._distance=e.distance}e._maxX=-e._distance*e._maxPoint;var t=e.currentPoint*-100+"%";e._setStyle({transform:"translate3d(0,0,0)",left:"0",marginLeft:t});clearTimeout(c);c=setTimeout(function(){e._setStyle({transitionProperty:v("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:e._getTranslate(0),marginLeft:"0"});e.moveToPoint(e.currentPoint,"0")},500)};l.prototype.hasNext=function(){var e=this;return e.currentPoint<e._maxPoint};l.prototype.hasPrev=function(){var e=this;return e.currentPoint>0};l.prototype.toNext=function(e){var t=this;if(!t.hasNext()){return}t.moveToPoint(t.currentPoint+1,e)};l.prototype.toPrev=function(e){var t=this;if(!t.hasPrev()){return}t.moveToPoint(t.currentPoint-1,e)};l.prototype.moveToPoint=function(e,t){var r=this;t=t===n?r.transitionDuration:t+"ms";var i=r.currentPoint;if(e===n){e=r.currentPoint}if(e<0){r.currentPoint=0}else if(e>r._maxPoint){r.currentPoint=r._maxPoint}else{r.currentPoint=parseInt(e,10)}if(o.cssAnimation){r._setStyle({transitionDuration:t})}else{r.animation=true}r._setX(-r.currentPoint*r._distance,t);if(i!==r.currentPoint){r._triggerEvent("fsmoveend",true,false);r._triggerEvent("fspointmove",true,false,{newPoint:r.currentPoint})}};l.prototype._setX=function(e,t){var n=this;n.currentX=e;if(o.cssAnimation){n.element.style[s.transform]=n._getTranslate(e)}else{if(n.animation){n._animate(e,t||n.transitionDuration)}else{n.element.style.left=e+"px"}}};l.prototype._touchStart=function(e){var n=this;if(n.disableTouch||n._eventType||u){return}g(a,function(t){if(e.type===f.start[t]){n._eventType=t;return true}});n.element.addEventListener(f.move[n._eventType],n,false);t.addEventListener(f.end[n._eventType],n,false);var r=e.target.tagName;if(n._eventType==="mouse"&&r!=="SELECT"&&r!=="INPUT"&&r!=="TEXTAREA"&&r!=="BUTTON"){e.preventDefault()}if(o.cssAnimation){n._setStyle({transitionDuration:"0ms"})}else{n.animation=false}n.scrolling=true;n.moveReady=false;n.startPageX=h(e,"pageX");n.startPageY=h(e,"pageY");n.basePageX=n.startPageX;n.directionX=0;n.startTime=e.timeStamp;n._triggerEvent("fstouchstart",true,false)};l.prototype._touchMove=function(e){var t=this;if(!t.scrolling||u){return}var n=h(e,"pageX"),r=h(e,"pageY"),i,s,o,a;if(t.moveReady){e.preventDefault();e.stopPropagation();i=n-t.basePageX;s=t.currentX+i;if(s>=0||s<t._maxX){s=Math.round(t.currentX+i/3)}t.directionX=i===0?t.directionX:i>0?-1:1;var f=!t._triggerEvent("fstouchmove",true,true,{delta:i,direction:t.directionX});if(f){t._touchAfter({moved:false,originalPoint:t.currentPoint,newPoint:t.currentPoint,cancelled:true})}else{t._setX(s)}}else{o=Math.abs(n-t.startPageX);a=Math.abs(r-t.startPageY);if(o>5){e.preventDefault();e.stopPropagation();t.moveReady=true;t.element.addEventListener("click",t,true)}else if(a>5){t.scrolling=false}}t.basePageX=n};l.prototype._touchEnd=function(e){var n=this;n.element.removeEventListener(f.move[n._eventType],n,false);t.removeEventListener(f.end[n._eventType],n,false);n._eventType=null;if(!n.scrolling){return}var r=-n.currentX/n._distance;r=n.directionX>0?Math.ceil(r):n.directionX<0?Math.floor(r):Math.round(r);if(r<0){r=0}else if(r>n._maxPoint){r=n._maxPoint}n._touchAfter({moved:r!==n.currentPoint,originalPoint:n.currentPoint,newPoint:r,cancelled:false});n.moveToPoint(r)};l.prototype._click=function(e){var t=this;e.stopPropagation();e.preventDefault()};l.prototype._touchAfter=function(e){var t=this;t.scrolling=false;t.moveReady=false;setTimeout(function(){t.element.removeEventListener("click",t,true)},200);t._triggerEvent("fstouchend",true,false,e)};l.prototype._setStyle=function(e){var t=this;var n=t.element.style;for(var r in e){d(n,r,e[r])}};l.prototype._animate=function(e,t){var n=this;var r=n.element;var i=+(new Date);var s=parseInt(r.style.left,10);var o=e;var u=parseInt(t,10);var a=function(e,t){return-(e/=t)*(e-2)};var f=setInterval(function(){var e=new Date-i;var t,n;if(e>u){clearInterval(f);n=o}else{t=a(e,u);n=t*(o-s)+s}r.style.left=n+"px"},10)};l.prototype.destroy=function(){var e=this;a.forEach(function(t){e.element.removeEventListener(f.start[t],e,false)})};l.prototype._getTranslate=function(e){var t=this;return t.use3d?"translate3d("+e+"px, 0, 0)":"translate("+e+"px, 0)"};l.prototype._triggerEvent=function(e,n,r,i){var s=this;var o=t.createEvent("Event");o.initEvent(e,n,r);if(i){for(var u in i){if(i.hasOwnProperty(u)){o[u]=i[u]}}}return s.element.dispatchEvent(o)};if(typeof exports=="object"){module.exports=l}else if(typeof define=="function"&&define.amd){define(function(){return l})}else{e.Flipsnap=l}})(window,window.document);window.Modernizr=function(e,t,n){function r(e){d.cssText=e}function i(e,t){return r(g.join(e+";")+(t||""))}function s(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function u(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return r===!1?e[i]:s(o,"function")?o.bind(r||t):o}return!1}var a="2.7.1",f={},l=!0,c=t.documentElement,h="modernizr",p=t.createElement(h),d=p.style,v,m={}.toString,g=" -webkit- -moz- -o- -ms- ".split(" "),y={},b={},w={},E=[],S=E.slice,x,T=function(e,n,r,i){var s,o,u,a,f=t.createElement("div"),l=t.body,p=l||t.createElement("body");if(parseInt(r,10))while(r--)u=t.createElement("div"),u.id=i?i[r]:h+(r+1),f.appendChild(u);return s=["&#173;",'<style id="s',h,'">',e,"</style>"].join(""),f.id=h,(l?f:p).innerHTML+=s,p.appendChild(f),l||(p.style.background="",p.style.overflow="hidden",a=c.style.overflow,c.style.overflow="hidden",c.appendChild(p)),o=n(f,e),l?f.parentNode.removeChild(f):(p.parentNode.removeChild(p),c.style.overflow=a),!!o},N={}.hasOwnProperty,C;!s(N,"undefined")&&!s(N.call,"undefined")?C=function(e,t){return N.call(e,t)}:C=function(e,t){return t in e&&s(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(typeof t!="function")throw new TypeError;var n=S.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var s=new i,o=t.apply(s,n.concat(S.call(arguments)));return Object(o)===o?o:s}return t.apply(e,n.concat(S.call(arguments)))};return r}),y.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",g.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n};for(var k in y)C(y,k)&&(x=k.toLowerCase(),f[x]=y[k](),E.push((f[x]?"":"no-")+x));return f.addTest=function(e,t){if(typeof e=="object")for(var r in e)C(e,r)&&f.addTest(r,e[r]);else{e=e.toLowerCase();if(f[e]!==n)return f;t=typeof t=="function"?t():t,typeof l!="undefined"&&l&&(c.className+=" "+(t?"":"no-")+e),f[e]=t}return f},r(""),p=v=null,function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=y.elements;return typeof e=="string"?e.split(" "):e}function i(e){var t=m[e[d]];return t||(t={},v++,e[d]=v,m[v]=t),t}function s(e,n,r){n||(n=t);if(g)return n.createElement(e);r||(r=i(n));var s;return r.cache[e]?s=r.cache[e].cloneNode():h.test(e)?s=(r.cache[e]=r.createElem(e)).cloneNode():s=r.createElem(e),s.canHaveChildren&&!c.test(e)&&!s.tagUrn?r.frag.appendChild(s):s}function o(e,n){e||(e=t);if(g)return e.createDocumentFragment();n=n||i(e);var s=n.frag.cloneNode(),o=0,u=r(),a=u.length;for(;o<a;o++)s.createElement(u[o]);return s}function u(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?s(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function a(e){e||(e=t);var r=i(e);return y.shivCSS&&!p&&!r.hasCSS&&(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),g||u(e,r),e}var f="3.7.0",l=e.html5||{},c=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p,d="_html5shiv",v=0,m={},g;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",p="hidden"in e,g=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){p=!0,g=!0}})();var y={elements:l.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:f,shivCSS:l.shivCSS!==!1,supportsUnknownElements:g,shivMethods:l.shivMethods!==!1,type:"default",shivDocument:a,createElement:s,createDocumentFragment:o};e.html5=y,a(t)}(this,t),f._version=a,f._prefixes=g,f.testStyles=T,c.className=c.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(l?" js "+E.join(" "):""),f}(this,this.document),function(e,t,n){function r(e){return"[object Function]"==d.call(e)}function i(e){return"string"==typeof e}function s(){}function o(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function u(){var e=v.shift();m=1,e?e.t?h(function(){("c"==e.t?k.injectCss:k.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):m=0}function a(e,n,r,i,s,a,f){function l(t){if(!d&&o(c.readyState)&&(w.r=d=1,!m&&u(),c.onload=c.onreadystatechange=null,t)){"img"!=e&&h(function(){b.removeChild(c)},50);for(var r in T[n])T[n].hasOwnProperty(r)&&T[n][r].onload()}}var f=f||k.errorTimeout,c=t.createElement(e),d=0,g=0,w={t:r,s:n,e:s,a:a,x:f};1===T[n]&&(g=1,T[n]=[]),"object"==e?c.data=n:(c.src=n,c.type=e),c.width=c.height="0",c.onerror=c.onload=c.onreadystatechange=function(){l.call(this,g)},v.splice(i,0,w),"img"!=e&&(g||2===T[n]?(b.insertBefore(c,y?null:p),h(l,f)):T[n].push(c))}function f(e,t,n,r,s){return m=0,t=t||"j",i(e)?a("c"==t?E:w,e,t,this.i++,n,r,s):(v.splice(this.i++,0,e),1==v.length&&u()),this}function l(){var e=k;return e.loader={load:f,i:0},e}var c=t.documentElement,h=e.setTimeout,p=t.getElementsByTagName("script")[0],d={}.toString,v=[],m=0,g="MozAppearance"in c.style,y=g&&!!t.createRange().compareNode,b=y?c:p.parentNode,c=e.opera&&"[object Opera]"==d.call(e.opera),c=!!t.attachEvent&&!c,w=g?"object":c?"script":"img",E=c?"script":w,S=Array.isArray||function(e){return"[object Array]"==d.call(e)},x=[],T={},N={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}},C,k;k=function(e){function t(e){var e=e.split("!"),t=x.length,n=e.pop(),r=e.length,n={url:n,origUrl:n,prefixes:e},i,s,o;for(s=0;s<r;s++)o=e[s].split("="),(i=N[o.shift()])&&(n=i(n,o));for(s=0;s<t;s++)n=x[s](n);return n}function o(e,i,s,o,u){var a=t(e),f=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(i&&(i=r(i)?i:i[e]||i[o]||i[e.split("/").pop().split("?")[0]]),a.instead?a.instead(e,i,s,o,u):(T[a.url]?a.noexec=!0:T[a.url]=1,s.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":n,a.noexec,a.attrs,a.timeout),(r(i)||r(f))&&s.load(function(){l(),i&&i(a.origUrl,u,o),f&&f(a.origUrl,u,o),T[a.url]=2})))}function u(e,t){function n(e,n){if(e){if(i(e))n||(f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}),o(e,f,t,0,u);else if(Object(e)===e)for(p in h=function(){var t=0,n;for(n in e)e.hasOwnProperty(n)&&t++;return t}(),e)e.hasOwnProperty(p)&&(!n&&!--h&&(r(f)?f=function(){var e=[].slice.call(arguments);l.apply(this,e),c()}:f[p]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),c()}}(l[p])),o(e[p],f,t,p,u))}else!n&&c()}var u=!!e.test,a=e.load||e.both,f=e.callback||s,l=f,c=e.complete||s,h,p;n(u?e.yep:e.nope,!!a),a&&n(a)}var a,f,c=this.yepnope.loader;if(i(e))o(e,0,c,0);else if(S(e))for(a=0;a<e.length;a++)f=e[a],i(f)?o(f,0,c,0):S(f)?k(f):Object(f)===f&&u(f,c);else Object(e)===e&&u(e,c)},k.addPrefix=function(e,t){N[e]=t},k.addFilter=function(e){x.push(e)},k.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",C=function(){t.removeEventListener("DOMContentLoaded",C,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=u,e.yepnope.injectJs=function(e,n,r,i,a,f){var l=t.createElement("script"),c,d,i=i||k.errorTimeout;l.src=e;for(d in r)l.setAttribute(d,r[d]);n=f?u:n||s,l.onreadystatechange=l.onload=function(){!c&&o(l.readyState)&&(c=1,n(),l.onload=l.onreadystatechange=null)},h(function(){c||(c=1,n(1))},i),a?l.onload():p.parentNode.insertBefore(l,p)},e.yepnope.injectCss=function(e,n,r,i,o,a){var i=t.createElement("link"),f,n=a?u:n||s;i.href=e,i.rel="stylesheet",i.type="text/css";for(f in r)i.setAttribute(f,r[f]);o||(p.parentNode.insertBefore(i,p),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent);FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent);FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled){return true}break;case"input":if(this.deviceIsIOS&&e.type==="file"||e.disabled){return true}break;case"label":case"video":return true}return/\bneedsclick\b/.test(e.className)};FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return true;case"select":return!this.deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}};FastClick.prototype.sendClick=function(e,t){"use strict";var n,r;if(document.activeElement&&document.activeElement!==e){document.activeElement.blur()}r=t.changedTouches[0];n=document.createEvent("MouseEvents");n.initMouseEvent(this.determineEventType(e),true,true,window,1,r.screenX,r.screenY,r.clientX,r.clientY,false,false,false,false,0,null);n.forwardedTouchEvent=true;e.dispatchEvent(n)};FastClick.prototype.determineEventType=function(e){"use strict";if(this.deviceIsAndroid&&e.tagName.toLowerCase()==="select"){return"mousedown"}return"click"};FastClick.prototype.focus=function(e){"use strict";var t;if(this.deviceIsIOS&&e.setSelectionRange&&e.type.indexOf("date")!==0&&e.type!=="time"){t=e.value.length;e.setSelectionRange(t,t)}else{e.focus()}};FastClick.prototype.updateScrollParent=function(e){"use strict";var t,n;t=e.fastClickScrollParent;if(!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n;e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}if(t){t.fastClickLastScrollTop=t.scrollTop}};FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";if(e.nodeType===Node.TEXT_NODE){return e.parentNode}return e};FastClick.prototype.onTouchStart=function(e){"use strict";var t,n,r;if(e.targetTouches.length>1){return true}t=this.getTargetElementFromEventTarget(e.target);n=e.targetTouches[0];if(this.deviceIsIOS){r=window.getSelection();if(r.rangeCount&&!r.isCollapsed){return true}if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier){e.preventDefault();return false}this.lastTouchIdentifier=n.identifier;this.updateScrollParent(t)}}this.trackingClick=true;this.trackingClickStart=e.timeStamp;this.targetElement=t;this.touchStartX=n.pageX;this.touchStartY=n.pageY;if(e.timeStamp-this.lastClickTime<200){e.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;if(Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n){return true}return false};FastClick.prototype.onTouchMove=function(e){"use strict";if(!this.trackingClick){return true}if(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(e){"use strict";if(e.control!==undefined){return e.control}if(e.htmlFor){return document.getElementById(e.htmlFor)}return e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(e){"use strict";var t,n,r,i,s,o=this.targetElement;if(!this.trackingClick){return true}if(e.timeStamp-this.lastClickTime<200){this.cancelNextClick=true;return true}this.cancelNextClick=false;this.lastClickTime=e.timeStamp;n=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(this.deviceIsIOSWithBadTarget){s=e.changedTouches[0];o=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||o;o.fastClickScrollParent=this.targetElement.fastClickScrollParent}r=o.tagName.toLowerCase();if(r==="label"){t=this.findControl(o);if(t){this.focus(o);if(this.deviceIsAndroid){return false}o=t}}else if(this.needsFocus(o)){if(e.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&r==="input"){this.targetElement=null;return false}this.focus(o);if(!this.deviceIsIOS4||r!=="select"){this.targetElement=null;e.preventDefault()}return false}if(this.deviceIsIOS&&!this.deviceIsIOS4){i=o.fastClickScrollParent;if(i&&i.fastClickLastScrollTop!==i.scrollTop){return true}}if(!this.needsClick(o)){e.preventDefault();this.sendClick(o,e)}return false};FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=false;this.targetElement=null};FastClick.prototype.onMouse=function(e){"use strict";if(!this.targetElement){return true}if(e.forwardedTouchEvent){return true}if(!e.cancelable){return true}if(!this.needsClick(this.targetElement)||this.cancelNextClick){if(e.stopImmediatePropagation){e.stopImmediatePropagation()}else{e.propagationStopped=true}e.stopPropagation();e.preventDefault();return false}return true};FastClick.prototype.onClick=function(e){"use strict";var t;if(this.trackingClick){this.targetElement=null;this.trackingClick=false;return true}if(e.target.type==="submit"&&e.detail===0){return true}t=this.onMouse(e);if(!t){this.targetElement=null}return t};FastClick.prototype.destroy=function(){"use strict";var e=this.layer;if(this.deviceIsAndroid){e.removeEventListener("mouseover",this.onMouse,true);e.removeEventListener("mousedown",this.onMouse,true);e.removeEventListener("mouseup",this.onMouse,true)}e.removeEventListener("click",this.onClick,true);e.removeEventListener("touchstart",this.onTouchStart,false);e.removeEventListener("touchmove",this.onTouchMove,false);e.removeEventListener("touchend",this.onTouchEnd,false);e.removeEventListener("touchcancel",this.onTouchCancel,false)};FastClick.notNeeded=function(e){"use strict";var t;var n;if(typeof window.ontouchstart==="undefined"){return true}n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1];if(n){if(FastClick.prototype.deviceIsAndroid){t=document.querySelector("meta[name=viewport]");if(t){if(t.content.indexOf("user-scalable=no")!==-1){return true}if(n>31&&window.innerWidth<=window.screen.width){return true}}}else{return true}}if(e.style.msTouchAction==="none"){return true}return false};FastClick.attach=function(e){"use strict";return new FastClick(e)};if(typeof define!=="undefined"&&define.amd){define(function(){"use strict";return FastClick})}else if(typeof module!=="undefined"&&module.exports){module.exports=FastClick.attach;module.exports.FastClick=FastClick}else{window.FastClick=FastClick}$(document).ready(function(){function o(){u();if($(".shifty").hasClass("show-menu")){$(".shifty").removeClass("show-menu")}else{$(".shifty").addClass("show-menu")}}function u(){$(".js-modal").fadeOut()}var e=0,t=$(".slide"),n=t[e],r=Modernizr.touch,i=new Flipsnap(".slideshow",{transitionDuration:600});i.element.addEventListener("fspointmove",function(r){$(".shifty").removeClass("show-menu");t.removeClass("active");e=r.newPoint;n=t[e];if(n){location.hash=e+"-"+n.id}$(n).addClass("active");$("body").removeClass().addClass($(t[e]).attr("id")).addClass($(t[e]).attr("data-color"));if($(".js-slide-previous").is(":visible")||$(".js-slide-next").is(":visible")){if(!i.hasNext()){$(".js-slide-next").addClass("hide")}else if(!$(".js-slide-next").is(":visible")){$(".js-slide-next").removeClass("hide")}if(!i.hasPrev()){$(".js-slide-previous").addClass("hide");$(".js-coach-mark").removeClass("hide").addClass("table-cell")}else if(!$(".js-slide-previous").is(":visible")){$(".js-slide-previous").removeClass("hide");$(".js-coach-mark").removeClass("table-cell").addClass("hide")}else if($(".js-coach-mark").is(":visible")){$(".js-coach-mark").removeClass("table-cell").addClass("hide")}}},false);FastClick.attach(document.body);if(location.hash){var s=$(".slideshow");s.css({transition:"none"});setTimeout(function(){s.css({transition:""})},500);e=parseInt(location.hash.split("-")[0].split("#")[1],10);i.moveToPoint(e)}$(".js-slide-btn").click(function(t){t.preventDefault();e=$($(this).attr("href")).index(".slide");i.moveToPoint(e)});$(".js-slide-next").click(function(){u();i.toNext()});$(".js-slide-previous").click(function(){u();i.toPrev()});if(!i.hasPrev()){$(".js-slide-previous").addClass("hide")}$(".js-shifty-toggle").click(function(){o()});$(".js-show-modal").click(function(){var e=$(this).parents(".slide").find(".js-modal"),t=$("<iframe>"),n=e.attr("data-src"),r=e.find(".js-embed-wrap")[0];e.show();t.attr("src",n).attr("frameborder",0);$(r).append(t);$(r).fitVids()});$(".js-hide-modal").click(function(){u()});$(document).keydown(function(e){if(e.keyCode===37){u();i.toPrev();return false}if(e.keyCode===39){u();i.toNext();return false}if(e.keyCode===38||e.keyCode===40){e.preventDefault();u();o()}})})